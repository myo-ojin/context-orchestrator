{"request": {"method": "list_projects"}, "response": {"jsonrpc": "2.0", "id": 99999, "result": {"projects": [{"project_id": "7bc8bb49-bee7-435c-a685-610cb34602bb", "name": "OrchestratorX", "description": "Scenario project: OrchestratorX", "tags": [], "memory_count": 0, "last_accessed": "2025-11-09T14:32:49.825211"}, {"project_id": "f177acc2-8be0-4752-a3d7-808111fa84e6", "name": "BugFixer", "description": "Scenario project: BugFixer", "tags": [], "memory_count": 0, "last_accessed": "2025-11-09T14:32:49.825211"}, {"project_id": "5cd8446d-fd07-41f2-a5e7-05003d14caa1", "name": "InsightOps", "description": "Scenario project: InsightOps", "tags": [], "memory_count": 0, "last_accessed": "2025-11-09T03:43:13.686023"}, {"project_id": "8e559324-aa61-4e79-8e79-9d6545ba5cd4", "name": "PhaseSync", "description": "Scenario project: PhaseSync", "tags": [], "memory_count": 0, "last_accessed": "2025-11-09T03:43:13.686023"}]}}}
{"request": {"jsonrpc": "2.0", "id": 1, "method": "search_memory", "params": {"query": "timeline view orchestrator", "top_k": 3}}, "response": {"jsonrpc": "2.0", "id": 1, "result": {"results": [{"id": "mem-5bc28b21c8eb-metadata", "content": "The user requested porting the timeline view to the new orchestrator deployment. The assistant suggested using the OrchestratorX release checklist, starting with a dual-write scaffold and cutting over only after successful smoke tests.", "metadata": {"type": "guidance", "memory_id": "mem-5bc28b21c8eb", "created_at": "2025-11-08T10:00:00", "strength": 1.0, "importance": 0.5, "source": "scenario_app_dev", "project_id": "7bc8bb49-bee7-435c-a685-610cb34602bb", "topic": "timeline", "schema_type": "Process", "memory_type": "working", "is_memory_entry": true}, "distance": 0.2886125445365906, "similarity": 0.7113874554634094, "vector_similarity": 0.7113874554634094, "score": 0.48790273095826037, "combined_score": 0.48790273095826037, "components": {"memory_strength": 1.0, "recency": 0.028126199327892405, "refs_reliability": 0.0, "bm25": 0.0, "vector": 0.7113874554634094, "metadata": 0.04}, "cross_score": 0.65}, {"id": "mem-405361e07fcc-metadata", "content": "The user aims to switch the Redwood orchestrator to 100% traffic tonight. The assistant advises using the OrchestratorX Redwood release checklist, which includes confirming dual-write metrics, verifying automation watchers, running smoke tests, and documenting the process.", "metadata": {"topic": "release_gating", "is_memory_entry": true, "schema_type": "Incident", "importance": 0.5, "created_at": "2025-11-08T21:15:00", "memory_type": "short_term", "memory_id": "mem-405361e07fcc", "updated_at": "2025-11-08T18:24:04.676062+00:00", "source": "scenario_app_dev", "strength": 1.0, "type": "checklist", "project_id": "7bc8bb49-bee7-435c-a685-610cb34602bb"}, "distance": 0.48749661445617676, "similarity": 0.5125033855438232, "vector_similarity": 0.5125033855438232, "score": 0.4796953697658522, "combined_score": 0.4796953697658522, "components": {"memory_strength": 1.0, "recency": 0.4859734632854378, "refs_reliability": 0.0, "bm25": 0.0, "vector": 0.5125033855438232, "metadata": -0.02}, "cross_score": 0.15}, {"id": "mem-c888f748e484-metadata", "content": "The pager alerted on INC-310 due to chunker timeouts. Mitigations include keeping the tokenizer fallback in streaming mode, limiting chunker concurrency to four workers, and exporting failing transcripts for comparison with INC-204; detailed instructions are in the INC-310 notebook.", "metadata": {"memory_id": "mem-c888f748e484", "memory_type": "short_term", "project_id": "f177acc2-8be0-4752-a3d7-808111fa84e6", "importance": 0.5, "severity": "high", "strength": 1.0, "schema_type": "Incident", "topic": "chunker", "updated_at": "2025-11-08T18:24:04.709728+00:00", "is_memory_entry": true, "source": "scenario_bug", "created_at": "2025-11-08T22:45:00"}, "distance": 0.5167017579078674, "similarity": 0.48329824209213257, "vector_similarity": 0.48329824209213257, "score": 0.48012286018812056, "combined_score": 0.48012286018812056, "components": {"memory_strength": 1.0, "recency": 0.5173160588484702, "refs_reliability": 0.0, "bm25": 0.0, "vector": 0.48329824209213257, "metadata": -0.02}, "cross_score": 0.0}], "count": 3}}, "logs": ["2025-11-09 14:34:02 - src.services.search - INFO - Searching for: 'timeline view orchestrator...' (top_k=3)", "2025-11-09 14:34:12 - src.services.search - INFO - Search completed in 10798ms, returned 3 results", "2025-11-09 14:34:12 - src.mcp.protocol_handler - INFO - Searched memories: query='timeline view orchestrator', results=3", "{\"jsonrpc\": \"2.0\", \"id\": 1, \"result\": {\"results\": [{\"id\": \"mem-5bc28b21c8eb-metadata\", \"content\": \"The user requested porting the timeline view to the new orchestrator deployment. The assistant suggested using the OrchestratorX release checklist, starting with a dual-write scaffold and cutting over only after successful smoke tests.\", \"metadata\": {\"type\": \"guidance\", \"memory_id\": \"mem-5bc28b21c8eb\", \"created_at\": \"2025-11-08T10:00:00\", \"strength\": 1.0, \"importance\": 0.5, \"source\": \"scenario_app_dev\", \"project_id\": \"7bc8bb49-bee7-435c-a685-610cb34602bb\", \"topic\": \"timeline\", \"schema_type\": \"Process\", \"memory_type\": \"working\", \"is_memory_entry\": true}, \"distance\": 0.2886125445365906, \"similarity\": 0.7113874554634094, \"vector_similarity\": 0.7113874554634094, \"score\": 0.48790273095826037, \"combined_score\": 0.48790273095826037, \"components\": {\"memory_strength\": 1.0, \"recency\": 0.028126199327892405, \"refs_reliability\": 0.0, \"bm25\": 0.0, \"vector\": 0.7113874554634094, \"metadata\": 0.04}, \"cross_score\": 0.65}, {\"id\": \"mem-405361e07fcc-metadata\", \"content\": \"The user aims to switch the Redwood orchestrator to 100% traffic tonight. The assistant advises using the OrchestratorX Redwood release checklist, which includes confirming dual-write metrics, verifying automation watchers, running smoke tests, and documenting the process.\", \"metadata\": {\"topic\": \"release_gating\", \"is_memory_entry\": true, \"schema_type\": \"Incident\", \"importance\": 0.5, \"created_at\": \"2025-11-08T21:15:00\", \"memory_type\": \"short_term\", \"memory_id\": \"mem-405361e07fcc\", \"updated_at\": \"2025-11-08T18:24:04.676062+00:00\", \"source\": \"scenario_app_dev\", \"strength\": 1.0, \"type\": \"checklist\", \"project_id\": \"7bc8bb49-bee7-435c-a685-610cb34602bb\"}, \"distance\": 0.48749661445617676, \"similarity\": 0.5125033855438232, \"vector_similarity\": 0.5125033855438232, \"score\": 0.4796953697658522, \"combined_score\": 0.4796953697658522, \"components\": {\"memory_strength\": 1.0, \"recency\": 0.4859734632854378, \"refs_reliability\": 0.0, \"bm25\": 0.0, \"vector\": 0.5125033855438232, \"metadata\": -0.02}, \"cross_score\": 0.15}, {\"id\": \"mem-c888f748e484-metadata\", \"content\": \"The pager alerted on INC-310 due to chunker timeouts. Mitigations include keeping the tokenizer fallback in streaming mode, limiting chunker concurrency to four workers, and exporting failing transcripts for comparison with INC-204; detailed instructions are in the INC-310 notebook.\", \"metadata\": {\"memory_id\": \"mem-c888f748e484\", \"memory_type\": \"short_term\", \"project_id\": \"f177acc2-8be0-4752-a3d7-808111fa84e6\", \"importance\": 0.5, \"severity\": \"high\", \"strength\": 1.0, \"schema_type\": \"Incident\", \"topic\": \"chunker\", \"updated_at\": \"2025-11-08T18:24:04.709728+00:00\", \"is_memory_entry\": true, \"source\": \"scenario_bug\", \"created_at\": \"2025-11-08T22:45:00\"}, \"distance\": 0.5167017579078674, \"similarity\": 0.48329824209213257, \"vector_similarity\": 0.48329824209213257, \"score\": 0.48012286018812056, \"combined_score\": 0.48012286018812056, \"components\": {\"memory_strength\": 1.0, \"recency\": 0.5173160588484702, \"refs_reliability\": 0.0, \"bm25\": 0.0, \"vector\": 0.48329824209213257, \"metadata\": -0.02}, \"cross_score\": 0.0}], \"count\": 3}}"], "relevance": {"topic": ["timeline", "release"], "ideal_hits": 2}}
{"request": {"jsonrpc": "2.0", "id": 2, "method": "search_memory", "params": {"query": "TypeError chunker fix", "top_k": 3}}, "response": {"jsonrpc": "2.0", "id": 2, "result": {"results": [{"id": "mem-75f904a00105-metadata", "content": "The user was advised to keep the tokenizer streaming, reduce concurrency to 3, and export raw transcripts for comparison, as the pager is still firing on INC-312 chunker stalls.", "metadata": {"strength": 1.0, "severity": "high", "created_at": "2025-11-08T22:40:00", "memory_type": "working", "topic": "chunker", "schema_type": "Incident", "is_memory_entry": true, "source": "scenario_short", "project_id": "f177acc2-8be0-4752-a3d7-808111fa84e6", "memory_id": "mem-75f904a00105", "importance": 0.5}, "distance": 0.4503328800201416, "similarity": 0.5496671199798584, "vector_similarity": 0.5496671199798584, "score": 0.4773215162702262, "combined_score": 0.4773215162702262, "components": {"memory_strength": 1.0, "recency": 0.1369404613712726, "refs_reliability": 0.0, "bm25": 0.0, "vector": 0.5496671199798584, "metadata": 0.04}, "cross_score": 0.15}, {"id": "mem-c888f748e484-metadata", "content": "The pager alerted on INC-310 due to chunker timeouts. Mitigations include keeping the tokenizer fallback in streaming mode, limiting chunker concurrency to four workers, and exporting failing transcripts for comparison with INC-204; detailed instructions are in the INC-310 notebook.", "metadata": {"schema_type": "Incident", "severity": "high", "strength": 1.0, "project_id": "f177acc2-8be0-4752-a3d7-808111fa84e6", "updated_at": "2025-11-08T18:24:04.709728+00:00", "is_memory_entry": true, "topic": "chunker", "created_at": "2025-11-08T22:45:00", "memory_type": "short_term", "source": "scenario_bug", "importance": 0.5, "memory_id": "mem-c888f748e484"}, "distance": 0.346770703792572, "similarity": 0.653229296207428, "vector_similarity": 0.653229296207428, "score": 0.5740922219203367, "combined_score": 0.5740922219203367, "components": {"memory_strength": 1.0, "recency": 0.5172318133942551, "refs_reliability": 0.0, "bm25": 0.0, "vector": 0.653229296207428, "metadata": 0.04}, "cross_score": 0.0}, {"id": "mem-bd8b497a19e9-metadata", "content": "The user noticed a decrease in search relevancy after ingesting compliance notes and asked about previous tuning of rerank weights. The assistant responded that memory_strength was raised to 0.45, recency was set to 0.25, and bm25_score was reduced to 0.15, with these changes documented in search.py to maintain consistency.", "metadata": {"memory_id": "mem-bd8b497a19e9", "project_id": "7bc8bb49-bee7-435c-a685-610cb34602bb", "topic": "rerank", "source": "scenario_app_dev", "updated_at": "2025-11-08T18:24:04.697998+00:00", "importance": 0.5, "is_memory_entry": true, "memory_type": "short_term", "schema_type": "Incident", "type": "tuning", "strength": 1.0, "created_at": "2025-11-08T22:05:00"}, "distance": 0.5585495829582214, "similarity": 0.44145041704177856, "vector_similarity": 0.44145041704177856, "score": 0.46890247889120773, "combined_score": 0.46890247889120773, "components": {"memory_strength": 1.0, "recency": 0.5030619774142602, "refs_reliability": 0.0, "bm25": 0.0, "vector": 0.44145041704177856, "metadata": -0.02}, "cross_score": 0.0}], "count": 3}}, "logs": ["2025-11-09 14:34:16 - src.services.search - INFO - Searching for: 'TypeError chunker fix...' (top_k=3)", "2025-11-09 14:34:27 - src.services.search - INFO - Search completed in 10700ms, returned 3 results", "2025-11-09 14:34:27 - src.mcp.protocol_handler - INFO - Searched memories: query='TypeError chunker fix', results=3", "{\"jsonrpc\": \"2.0\", \"id\": 2, \"result\": {\"results\": [{\"id\": \"mem-75f904a00105-metadata\", \"content\": \"The user was advised to keep the tokenizer streaming, reduce concurrency to 3, and export raw transcripts for comparison, as the pager is still firing on INC-312 chunker stalls.\", \"metadata\": {\"strength\": 1.0, \"severity\": \"high\", \"created_at\": \"2025-11-08T22:40:00\", \"memory_type\": \"working\", \"topic\": \"chunker\", \"schema_type\": \"Incident\", \"is_memory_entry\": true, \"source\": \"scenario_short\", \"project_id\": \"f177acc2-8be0-4752-a3d7-808111fa84e6\", \"memory_id\": \"mem-75f904a00105\", \"importance\": 0.5}, \"distance\": 0.4503328800201416, \"similarity\": 0.5496671199798584, \"vector_similarity\": 0.5496671199798584, \"score\": 0.4773215162702262, \"combined_score\": 0.4773215162702262, \"components\": {\"memory_strength\": 1.0, \"recency\": 0.1369404613712726, \"refs_reliability\": 0.0, \"bm25\": 0.0, \"vector\": 0.5496671199798584, \"metadata\": 0.04}, \"cross_score\": 0.15}, {\"id\": \"mem-c888f748e484-metadata\", \"content\": \"The pager alerted on INC-310 due to chunker timeouts. Mitigations include keeping the tokenizer fallback in streaming mode, limiting chunker concurrency to four workers, and exporting failing transcripts for comparison with INC-204; detailed instructions are in the INC-310 notebook.\", \"metadata\": {\"schema_type\": \"Incident\", \"severity\": \"high\", \"strength\": 1.0, \"project_id\": \"f177acc2-8be0-4752-a3d7-808111fa84e6\", \"updated_at\": \"2025-11-08T18:24:04.709728+00:00\", \"is_memory_entry\": true, \"topic\": \"chunker\", \"created_at\": \"2025-11-08T22:45:00\", \"memory_type\": \"short_term\", \"source\": \"scenario_bug\", \"importance\": 0.5, \"memory_id\": \"mem-c888f748e484\"}, \"distance\": 0.346770703792572, \"similarity\": 0.653229296207428, \"vector_similarity\": 0.653229296207428, \"score\": 0.5740922219203367, \"combined_score\": 0.5740922219203367, \"components\": {\"memory_strength\": 1.0, \"recency\": 0.5172318133942551, \"refs_reliability\": 0.0, \"bm25\": 0.0, \"vector\": 0.653229296207428, \"metadata\": 0.04}, \"cross_score\": 0.0}, {\"id\": \"mem-bd8b497a19e9-metadata\", \"content\": \"The user noticed a decrease in search relevancy after ingesting compliance notes and asked about previous tuning of rerank weights. The assistant responded that memory_strength was raised to 0.45, recency was set to 0.25, and bm25_score was reduced to 0.15, with these changes documented in search.py to maintain consistency.\", \"metadata\": {\"memory_id\": \"mem-bd8b497a19e9\", \"project_id\": \"7bc8bb49-bee7-435c-a685-610cb34602bb\", \"topic\": \"rerank\", \"source\": \"scenario_app_dev\", \"updated_at\": \"2025-11-08T18:24:04.697998+00:00\", \"importance\": 0.5, \"is_memory_entry\": true, \"memory_type\": \"short_term\", \"schema_type\": \"Incident\", \"type\": \"tuning\", \"strength\": 1.0, \"created_at\": \"2025-11-08T22:05:00\"}, \"distance\": 0.5585495829582214, \"similarity\": 0.44145041704177856, \"vector_similarity\": 0.44145041704177856, \"score\": 0.46890247889120773, \"combined_score\": 0.46890247889120773, \"components\": {\"memory_strength\": 1.0, \"recency\": 0.5030619774142602, \"refs_reliability\": 0.0, \"bm25\": 0.0, \"vector\": 0.44145041704177856, \"metadata\": -0.02}, \"cross_score\": 0.0}], \"count\": 3}}"], "relevance": {"topic": ["chunker"], "severity": ["high"], "ideal_hits": 2}}
{"request": {"jsonrpc": "2.0", "id": 3, "method": "search_in_project", "params": {"query": "change feed", "top_k": 3, "project_id": "7bc8bb49-bee7-435c-a685-610cb34602bb"}}, "response": {"jsonrpc": "2.0", "id": 3, "result": {"results": [{"id": "mem-405361e07fcc-metadata", "content": "The user aims to switch the Redwood orchestrator to 100% traffic tonight. The assistant advises using the OrchestratorX Redwood release checklist, which includes confirming dual-write metrics, verifying automation watchers, running smoke tests, and documenting the process.", "metadata": {"project_id": "7bc8bb49-bee7-435c-a685-610cb34602bb", "topic": "release_gating", "updated_at": "2025-11-08T18:24:04.676062+00:00", "is_memory_entry": true, "strength": 1.0, "memory_id": "mem-405361e07fcc", "schema_type": "Incident", "source": "scenario_app_dev", "created_at": "2025-11-08T21:15:00", "importance": 0.5, "memory_type": "short_term", "type": "checklist"}, "distance": 0.5835981369018555, "similarity": 0.41640186309814453, "vector_similarity": 0.41640186309814453, "score": 0.4904435738577347, "combined_score": 0.4904435738577347, "components": {"memory_strength": 1.0, "recency": 0.4858160061905288, "refs_reliability": 0.0, "bm25": 0.0, "vector": 0.41640186309814453, "metadata": 0.009999999999999997}, "cross_score": 0.0}, {"id": "mem-bd8b497a19e9-metadata", "content": "The user noticed a decrease in search relevancy after ingesting compliance notes and asked about previous tuning of rerank weights. The assistant responded that memory_strength was raised to 0.45, recency was set to 0.25, and bm25_score was reduced to 0.15, with these changes documented in search.py to maintain consistency.", "metadata": {"type": "tuning", "source": "scenario_app_dev", "strength": 1.0, "updated_at": "2025-11-08T18:24:04.697998+00:00", "memory_id": "mem-bd8b497a19e9", "schema_type": "Incident", "project_id": "7bc8bb49-bee7-435c-a685-610cb34602bb", "is_memory_entry": true, "memory_type": "short_term", "created_at": "2025-11-08T22:05:00", "importance": 0.5, "topic": "rerank"}, "distance": 0.6013846397399902, "similarity": 0.39861536026000977, "vector_similarity": 0.39861536026000977, "score": 0.4903192509598335, "combined_score": 0.4903192509598335, "components": {"memory_strength": 1.0, "recency": 0.5029808945391575, "refs_reliability": 0.0, "bm25": 0.0, "vector": 0.39861536026000977, "metadata": 0.009999999999999997}, "cross_score": 0.0}, {"id": "mem-5bc28b21c8eb-metadata", "content": "The user requested porting the timeline view to the new orchestrator deployment. The assistant suggested using the OrchestratorX release checklist, starting with a dual-write scaffold and cutting over only after successful smoke tests.", "metadata": {"type": "guidance", "schema_type": "Process", "memory_id": "mem-5bc28b21c8eb", "project_id": "7bc8bb49-bee7-435c-a685-610cb34602bb", "created_at": "2025-11-08T10:00:00", "importance": 0.5, "source": "scenario_app_dev", "strength": 1.0, "memory_type": "working", "is_memory_entry": true, "topic": "timeline"}, "distance": 0.650083065032959, "similarity": 0.349916934967041, "vector_similarity": 0.349916934967041, "score": 0.38560316083844604, "combined_score": 0.38560316083844604, "components": {"memory_strength": 1.0, "recency": 0.028098869225188932, "refs_reliability": 0.0, "bm25": 0.0, "vector": 0.349916934967041, "metadata": 0.009999999999999997}, "cross_score": 0.0}]}}, "logs": ["2025-11-09 14:34:27 - src.services.search - INFO - Searching in project 7bc8bb49-bee7-435c-a685-610cb34602bb: 'change feed...'", "2025-11-09 14:34:30 - src.services.search - INFO - Searching for: 'change feed...' (top_k=3)", "2025-11-09 14:34:40 - src.services.search - INFO - Search completed in 10609ms, returned 3 results", "2025-11-09 14:34:40 - src.services.search - INFO - Project search returned 3 results", "2025-11-09 14:34:40 - src.mcp.protocol_handler - INFO - Project search returned 3 results", "{\"jsonrpc\": \"2.0\", \"id\": 3, \"result\": {\"results\": [{\"id\": \"mem-405361e07fcc-metadata\", \"content\": \"The user aims to switch the Redwood orchestrator to 100% traffic tonight. The assistant advises using the OrchestratorX Redwood release checklist, which includes confirming dual-write metrics, verifying automation watchers, running smoke tests, and documenting the process.\", \"metadata\": {\"project_id\": \"7bc8bb49-bee7-435c-a685-610cb34602bb\", \"topic\": \"release_gating\", \"updated_at\": \"2025-11-08T18:24:04.676062+00:00\", \"is_memory_entry\": true, \"strength\": 1.0, \"memory_id\": \"mem-405361e07fcc\", \"schema_type\": \"Incident\", \"source\": \"scenario_app_dev\", \"created_at\": \"2025-11-08T21:15:00\", \"importance\": 0.5, \"memory_type\": \"short_term\", \"type\": \"checklist\"}, \"distance\": 0.5835981369018555, \"similarity\": 0.41640186309814453, \"vector_similarity\": 0.41640186309814453, \"score\": 0.4904435738577347, \"combined_score\": 0.4904435738577347, \"components\": {\"memory_strength\": 1.0, \"recency\": 0.4858160061905288, \"refs_reliability\": 0.0, \"bm25\": 0.0, \"vector\": 0.41640186309814453, \"metadata\": 0.009999999999999997}, \"cross_score\": 0.0}, {\"id\": \"mem-bd8b497a19e9-metadata\", \"content\": \"The user noticed a decrease in search relevancy after ingesting compliance notes and asked about previous tuning of rerank weights. The assistant responded that memory_strength was raised to 0.45, recency was set to 0.25, and bm25_score was reduced to 0.15, with these changes documented in search.py to maintain consistency.\", \"metadata\": {\"type\": \"tuning\", \"source\": \"scenario_app_dev\", \"strength\": 1.0, \"updated_at\": \"2025-11-08T18:24:04.697998+00:00\", \"memory_id\": \"mem-bd8b497a19e9\", \"schema_type\": \"Incident\", \"project_id\": \"7bc8bb49-bee7-435c-a685-610cb34602bb\", \"is_memory_entry\": true, \"memory_type\": \"short_term\", \"created_at\": \"2025-11-08T22:05:00\", \"importance\": 0.5, \"topic\": \"rerank\"}, \"distance\": 0.6013846397399902, \"similarity\": 0.39861536026000977, \"vector_similarity\": 0.39861536026000977, \"score\": 0.4903192509598335, \"combined_score\": 0.4903192509598335, \"components\": {\"memory_strength\": 1.0, \"recency\": 0.5029808945391575, \"refs_reliability\": 0.0, \"bm25\": 0.0, \"vector\": 0.39861536026000977, \"metadata\": 0.009999999999999997}, \"cross_score\": 0.0}, {\"id\": \"mem-5bc28b21c8eb-metadata\", \"content\": \"The user requested porting the timeline view to the new orchestrator deployment. The assistant suggested using the OrchestratorX release checklist, starting with a dual-write scaffold and cutting over only after successful smoke tests.\", \"metadata\": {\"type\": \"guidance\", \"schema_type\": \"Process\", \"memory_id\": \"mem-5bc28b21c8eb\", \"project_id\": \"7bc8bb49-bee7-435c-a685-610cb34602bb\", \"created_at\": \"2025-11-08T10:00:00\", \"importance\": 0.5, \"source\": \"scenario_app_dev\", \"strength\": 1.0, \"memory_type\": \"working\", \"is_memory_entry\": true, \"topic\": \"timeline\"}, \"distance\": 0.650083065032959, \"similarity\": 0.349916934967041, \"vector_similarity\": 0.349916934967041, \"score\": 0.38560316083844604, \"combined_score\": 0.38560316083844604, \"components\": {\"memory_strength\": 1.0, \"recency\": 0.028098869225188932, \"refs_reliability\": 0.0, \"bm25\": 0.0, \"vector\": 0.349916934967041, \"metadata\": 0.009999999999999997}, \"cross_score\": 0.0}]}}"], "relevance": {"topic": ["ingestion"], "ideal_hits": 1}}
{"request": {"jsonrpc": "2.0", "id": 4, "method": "search_memory", "params": {"query": "obsidian vault edits triage", "top_k": 3}}, "response": {"jsonrpc": "2.0", "id": 4, "result": {"results": [{"id": "mem-667965861c37-metadata", "content": "The user received advice to batch the 12 flagged edits into a single consolidation session, label them as drafts, and rerun the process hourly until they stabilize, thus avoiding MCP flooding.", "metadata": {"topic": "obsidian", "strength": 1.0, "type": "ops", "source": "scenario_short", "schema_type": "Process", "memory_id": "mem-667965861c37", "project_id": "5cd8446d-fd07-41f2-a5e7-05003d14caa1", "is_memory_entry": true, "importance": 0.5, "created_at": "2025-11-08T21:55:00", "memory_type": "working"}, "distance": 0.5049009323120117, "similarity": 0.4950990676879883, "vector_similarity": 0.4950990676879883, "score": 0.46393288112525904, "combined_score": 0.46393288112525904, "components": {"memory_strength": 1.0, "recency": 0.12456533793830712, "refs_reliability": 0.0, "bm25": 0.0, "vector": 0.4950990676879883, "metadata": 0.04}, "cross_score": 0.0}, {"id": "mem-542042c102fb-metadata", "content": "To assemble the weekly trust report for the Obsidian vault, run `session_log_collector --window 7d`, summarize with the local model, call `cmd_export --tag audit-weekly`, and drop the bundle into the review folder; do not sync until reviewers approve.", "metadata": {"importance": 0.5, "created_at": "2025-11-08T23:10:00", "source": "scenario_general", "memory_type": "short_term", "type": "procedure", "schema_type": "Process", "strength": 1.0, "memory_id": "mem-542042c102fb", "updated_at": "2025-11-08T18:24:04.719394+00:00", "topic": "reporting", "is_memory_entry": true}, "distance": 0.4461607336997986, "similarity": 0.5538392663002014, "vector_similarity": 0.5538392663002014, "score": 0.4959919573660463, "combined_score": 0.4959919573660463, "components": {"memory_strength": 1.0, "recency": 0.5261205205300298, "refs_reliability": 0.0, "bm25": 0.0, "vector": 0.5538392663002014, "metadata": -0.02}, "cross_score": 0.0}, {"id": "mem-5bc28b21c8eb-metadata", "content": "The user requested porting the timeline view to the new orchestrator deployment. The assistant suggested using the OrchestratorX release checklist, starting with a dual-write scaffold and cutting over only after successful smoke tests.", "metadata": {"memory_type": "working", "type": "guidance", "is_memory_entry": true, "memory_id": "mem-5bc28b21c8eb", "project_id": "7bc8bb49-bee7-435c-a685-610cb34602bb", "topic": "timeline", "schema_type": "Process", "strength": 1.0, "created_at": "2025-11-08T10:00:00", "source": "scenario_app_dev", "importance": 0.5}, "distance": 0.5632282495498657, "similarity": 0.4367717504501343, "vector_similarity": 0.4367717504501343, "score": 0.37297141424576513, "combined_score": 0.37297141424576513, "components": {"memory_strength": 1.0, "recency": 0.028085320778691695, "refs_reliability": 0.0, "bm25": 0.0, "vector": 0.4367717504501343, "metadata": -0.02}, "cross_score": 0.0}], "count": 3}}, "logs": ["2025-11-09 14:34:44 - src.services.search - INFO - Searching for: 'obsidian vault edits triage...' (top_k=3)", "2025-11-09 14:34:54 - src.services.search - INFO - Search completed in 10673ms, returned 3 results", "2025-11-09 14:34:54 - src.mcp.protocol_handler - INFO - Searched memories: query='obsidian vault edits triage', results=3", "{\"jsonrpc\": \"2.0\", \"id\": 4, \"result\": {\"results\": [{\"id\": \"mem-667965861c37-metadata\", \"content\": \"The user received advice to batch the 12 flagged edits into a single consolidation session, label them as drafts, and rerun the process hourly until they stabilize, thus avoiding MCP flooding.\", \"metadata\": {\"topic\": \"obsidian\", \"strength\": 1.0, \"type\": \"ops\", \"source\": \"scenario_short\", \"schema_type\": \"Process\", \"memory_id\": \"mem-667965861c37\", \"project_id\": \"5cd8446d-fd07-41f2-a5e7-05003d14caa1\", \"is_memory_entry\": true, \"importance\": 0.5, \"created_at\": \"2025-11-08T21:55:00\", \"memory_type\": \"working\"}, \"distance\": 0.5049009323120117, \"similarity\": 0.4950990676879883, \"vector_similarity\": 0.4950990676879883, \"score\": 0.46393288112525904, \"combined_score\": 0.46393288112525904, \"components\": {\"memory_strength\": 1.0, \"recency\": 0.12456533793830712, \"refs_reliability\": 0.0, \"bm25\": 0.0, \"vector\": 0.4950990676879883, \"metadata\": 0.04}, \"cross_score\": 0.0}, {\"id\": \"mem-542042c102fb-metadata\", \"content\": \"To assemble the weekly trust report for the Obsidian vault, run `session_log_collector --window 7d`, summarize with the local model, call `cmd_export --tag audit-weekly`, and drop the bundle into the review folder; do not sync until reviewers approve.\", \"metadata\": {\"importance\": 0.5, \"created_at\": \"2025-11-08T23:10:00\", \"source\": \"scenario_general\", \"memory_type\": \"short_term\", \"type\": \"procedure\", \"schema_type\": \"Process\", \"strength\": 1.0, \"memory_id\": \"mem-542042c102fb\", \"updated_at\": \"2025-11-08T18:24:04.719394+00:00\", \"topic\": \"reporting\", \"is_memory_entry\": true}, \"distance\": 0.4461607336997986, \"similarity\": 0.5538392663002014, \"vector_similarity\": 0.5538392663002014, \"score\": 0.4959919573660463, \"combined_score\": 0.4959919573660463, \"components\": {\"memory_strength\": 1.0, \"recency\": 0.5261205205300298, \"refs_reliability\": 0.0, \"bm25\": 0.0, \"vector\": 0.5538392663002014, \"metadata\": -0.02}, \"cross_score\": 0.0}, {\"id\": \"mem-5bc28b21c8eb-metadata\", \"content\": \"The user requested porting the timeline view to the new orchestrator deployment. The assistant suggested using the OrchestratorX release checklist, starting with a dual-write scaffold and cutting over only after successful smoke tests.\", \"metadata\": {\"memory_type\": \"working\", \"type\": \"guidance\", \"is_memory_entry\": true, \"memory_id\": \"mem-5bc28b21c8eb\", \"project_id\": \"7bc8bb49-bee7-435c-a685-610cb34602bb\", \"topic\": \"timeline\", \"schema_type\": \"Process\", \"strength\": 1.0, \"created_at\": \"2025-11-08T10:00:00\", \"source\": \"scenario_app_dev\", \"importance\": 0.5}, \"distance\": 0.5632282495498657, \"similarity\": 0.4367717504501343, \"vector_similarity\": 0.4367717504501343, \"score\": 0.37297141424576513, \"combined_score\": 0.37297141424576513, \"components\": {\"memory_strength\": 1.0, \"recency\": 0.028085320778691695, \"refs_reliability\": 0.0, \"bm25\": 0.0, \"vector\": 0.4367717504501343, \"metadata\": -0.02}, \"cross_score\": 0.0}], \"count\": 3}}"], "relevance": {"topic": ["obsidian"], "ideal_hits": 2}}
{"request": {"jsonrpc": "2.0", "id": 5, "method": "search_memory", "params": {"query": "stale embeddings doctor report", "top_k": 3}}, "response": {"jsonrpc": "2.0", "id": 5, "result": {"results": [{"id": "mem-542042c102fb-metadata", "content": "To assemble the weekly trust report for the Obsidian vault, run `session_log_collector --window 7d`, summarize with the local model, call `cmd_export --tag audit-weekly`, and drop the bundle into the review folder; do not sync until reviewers approve.", "metadata": {"topic": "reporting", "importance": 0.5, "is_memory_entry": true, "memory_id": "mem-542042c102fb", "memory_type": "short_term", "source": "scenario_general", "strength": 1.0, "created_at": "2025-11-08T23:10:00", "updated_at": "2025-11-08T18:24:04.719394+00:00", "schema_type": "Process", "type": "procedure"}, "distance": 0.4938929080963135, "similarity": 0.5061070919036865, "vector_similarity": 0.5061070919036865, "score": 0.48642849873182403, "combined_score": 0.48642849873182403, "components": {"memory_strength": 1.0, "recency": 0.5260354017554335, "refs_reliability": 0.0, "bm25": 0.0, "vector": 0.5061070919036865, "metadata": -0.02}, "cross_score": 0.0}, {"id": "mem-5bc28b21c8eb-metadata", "content": "The user requested porting the timeline view to the new orchestrator deployment. The assistant suggested using the OrchestratorX release checklist, starting with a dual-write scaffold and cutting over only after successful smoke tests.", "metadata": {"memory_type": "working", "importance": 0.5, "strength": 1.0, "type": "guidance", "memory_id": "mem-5bc28b21c8eb", "created_at": "2025-11-08T10:00:00", "schema_type": "Process", "project_id": "7bc8bb49-bee7-435c-a685-610cb34602bb", "topic": "timeline", "is_memory_entry": true, "source": "scenario_app_dev"}, "distance": 0.5419274568557739, "similarity": 0.4580725431442261, "vector_similarity": 0.4580725431442261, "score": 0.3772288469437314, "combined_score": 0.3772288469437314, "components": {"memory_strength": 1.0, "recency": 0.02807169157443073, "refs_reliability": 0.0, "bm25": 0.0, "vector": 0.4580725431442261, "metadata": -0.02}, "cross_score": 0.0}, {"id": "mem-c888f748e484-metadata", "content": "The pager alerted on INC-310 due to chunker timeouts. Mitigations include keeping the tokenizer fallback in streaming mode, limiting chunker concurrency to four workers, and exporting failing transcripts for comparison with INC-204; detailed instructions are in the INC-310 notebook.", "metadata": {"updated_at": "2025-11-08T18:24:04.709728+00:00", "strength": 1.0, "schema_type": "Incident", "project_id": "f177acc2-8be0-4752-a3d7-808111fa84e6", "source": "scenario_bug", "memory_id": "mem-c888f748e484", "created_at": "2025-11-08T22:45:00", "severity": "high", "importance": 0.5, "memory_type": "short_term", "is_memory_entry": true, "topic": "chunker"}, "distance": 0.5288887023925781, "similarity": 0.4711112976074219, "vector_similarity": 0.4711112976074219, "score": 0.4776185918407679, "combined_score": 0.4776185918407679, "components": {"memory_strength": 1.0, "recency": 0.5169816615964175, "refs_reliability": 0.0, "bm25": 0.0, "vector": 0.4711112976074219, "metadata": -0.02}, "cross_score": 0.0}], "count": 3}}, "logs": ["2025-11-09 14:34:58 - src.services.search - INFO - Searching for: 'stale embeddings doctor report...' (top_k=3)", "2025-11-09 14:35:08 - src.services.search - INFO - Search completed in 10627ms, returned 3 results", "2025-11-09 14:35:08 - src.mcp.protocol_handler - INFO - Searched memories: query='stale embeddings doctor report', results=3", "{\"jsonrpc\": \"2.0\", \"id\": 5, \"result\": {\"results\": [{\"id\": \"mem-542042c102fb-metadata\", \"content\": \"To assemble the weekly trust report for the Obsidian vault, run `session_log_collector --window 7d`, summarize with the local model, call `cmd_export --tag audit-weekly`, and drop the bundle into the review folder; do not sync until reviewers approve.\", \"metadata\": {\"topic\": \"reporting\", \"importance\": 0.5, \"is_memory_entry\": true, \"memory_id\": \"mem-542042c102fb\", \"memory_type\": \"short_term\", \"source\": \"scenario_general\", \"strength\": 1.0, \"created_at\": \"2025-11-08T23:10:00\", \"updated_at\": \"2025-11-08T18:24:04.719394+00:00\", \"schema_type\": \"Process\", \"type\": \"procedure\"}, \"distance\": 0.4938929080963135, \"similarity\": 0.5061070919036865, \"vector_similarity\": 0.5061070919036865, \"score\": 0.48642849873182403, \"combined_score\": 0.48642849873182403, \"components\": {\"memory_strength\": 1.0, \"recency\": 0.5260354017554335, \"refs_reliability\": 0.0, \"bm25\": 0.0, \"vector\": 0.5061070919036865, \"metadata\": -0.02}, \"cross_score\": 0.0}, {\"id\": \"mem-5bc28b21c8eb-metadata\", \"content\": \"The user requested porting the timeline view to the new orchestrator deployment. The assistant suggested using the OrchestratorX release checklist, starting with a dual-write scaffold and cutting over only after successful smoke tests.\", \"metadata\": {\"memory_type\": \"working\", \"importance\": 0.5, \"strength\": 1.0, \"type\": \"guidance\", \"memory_id\": \"mem-5bc28b21c8eb\", \"created_at\": \"2025-11-08T10:00:00\", \"schema_type\": \"Process\", \"project_id\": \"7bc8bb49-bee7-435c-a685-610cb34602bb\", \"topic\": \"timeline\", \"is_memory_entry\": true, \"source\": \"scenario_app_dev\"}, \"distance\": 0.5419274568557739, \"similarity\": 0.4580725431442261, \"vector_similarity\": 0.4580725431442261, \"score\": 0.3772288469437314, \"combined_score\": 0.3772288469437314, \"components\": {\"memory_strength\": 1.0, \"recency\": 0.02807169157443073, \"refs_reliability\": 0.0, \"bm25\": 0.0, \"vector\": 0.4580725431442261, \"metadata\": -0.02}, \"cross_score\": 0.0}, {\"id\": \"mem-c888f748e484-metadata\", \"content\": \"The pager alerted on INC-310 due to chunker timeouts. Mitigations include keeping the tokenizer fallback in streaming mode, limiting chunker concurrency to four workers, and exporting failing transcripts for comparison with INC-204; detailed instructions are in the INC-310 notebook.\", \"metadata\": {\"updated_at\": \"2025-11-08T18:24:04.709728+00:00\", \"strength\": 1.0, \"schema_type\": \"Incident\", \"project_id\": \"f177acc2-8be0-4752-a3d7-808111fa84e6\", \"source\": \"scenario_bug\", \"memory_id\": \"mem-c888f748e484\", \"created_at\": \"2025-11-08T22:45:00\", \"severity\": \"high\", \"importance\": 0.5, \"memory_type\": \"short_term\", \"is_memory_entry\": true, \"topic\": \"chunker\"}, \"distance\": 0.5288887023925781, \"similarity\": 0.4711112976074219, \"vector_similarity\": 0.4711112976074219, \"score\": 0.4776185918407679, \"combined_score\": 0.4776185918407679, \"components\": {\"memory_strength\": 1.0, \"recency\": 0.5169816615964175, \"refs_reliability\": 0.0, \"bm25\": 0.0, \"vector\": 0.4711112976074219, \"metadata\": -0.02}, \"cross_score\": 0.0}], \"count\": 3}}"], "relevance": {"topic": ["health", "report"], "ideal_hits": 2}}
{"request": {"jsonrpc": "2.0", "id": 6, "method": "search_in_project", "params": {"query": "dashboard pilot", "top_k": 3, "project_id": "5cd8446d-fd07-41f2-a5e7-05003d14caa1"}}, "response": {"jsonrpc": "2.0", "id": 6, "result": {"results": [{"id": "mem-8f164c731ee5-metadata", "content": "The team pre-aggregated OTEL spans into 15-minute buckets, cached the JSON in the BM25 sidecar to tune InsightOps dashboards for the Q4 pilot.", "metadata": {"memory_type": "short_term", "schema_type": "Process", "strength": 1.0, "importance": 0.5, "is_memory_entry": true, "memory_id": "mem-8f164c731ee5", "created_at": "2025-10-09T18:10:00", "project_id": "5cd8446d-fd07-41f2-a5e7-05003d14caa1", "source": "scenario_mid", "updated_at": "2025-11-08T18:49:08.344420+00:00", "type": "tuning", "topic": "dashboard"}, "distance": 0.4529421329498291, "similarity": 0.5470578670501709, "vector_similarity": 0.5470578670501709, "score": 0.5394115734100422, "combined_score": 0.5394115734100422, "components": {"memory_strength": 1.0, "recency": 3.9960688375972303e-14, "refs_reliability": 0.0, "bm25": 0.0, "vector": 0.5470578670501709, "metadata": 0.13}, "cross_score": 0.1}, {"id": "mem-6202db357754-metadata", "content": "The user needed to seed InsightOps with blended telemetry. The assistant suggested using the Hydra blending notebook, capping per-stream rows at 10k, and pushing vectors through ingestion.", "metadata": {"project_id": "5cd8446d-fd07-41f2-a5e7-05003d14caa1", "source": "scenario_short", "type": "playbook", "created_at": "2025-11-08T23:20:00", "memory_type": "working", "memory_id": "mem-6202db357754", "importance": 0.5, "schema_type": "Snippet", "topic": "demo", "strength": 1.0, "is_memory_entry": true}, "distance": 0.537360668182373, "similarity": 0.46263933181762695, "vector_similarity": 0.46263933181762695, "score": 0.4322386497210381, "combined_score": 0.4322386497210381, "components": {"memory_strength": 1.0, "recency": 0.14855391678756338, "refs_reliability": 0.0, "bm25": 0.0, "vector": 0.46263933181762695, "metadata": 0.009999999999999997}, "cross_score": 0.0}, {"id": "mem-667965861c37-metadata", "content": "The user received advice to batch the 12 flagged edits into a single consolidation session, label them as drafts, and rerun the process hourly until they stabilize, thus avoiding MCP flooding.", "metadata": {"importance": 0.5, "source": "scenario_short", "schema_type": "Process", "project_id": "5cd8446d-fd07-41f2-a5e7-05003d14caa1", "memory_type": "working", "topic": "obsidian", "type": "ops", "is_memory_entry": true, "created_at": "2025-11-08T21:55:00", "strength": 1.0, "memory_id": "mem-667965861c37"}, "distance": 0.6534870862960815, "similarity": 0.34651291370391846, "vector_similarity": 0.34651291370391846, "score": 0.40419160224866846, "combined_score": 0.40419160224866846, "components": {"memory_strength": 1.0, "recency": 0.12444509753942364, "refs_reliability": 0.0, "bm25": 0.0, "vector": 0.34651291370391846, "metadata": 0.009999999999999997}, "cross_score": 0.0}]}}, "logs": ["2025-11-09 14:35:08 - src.services.search - INFO - Searching in project 5cd8446d-fd07-41f2-a5e7-05003d14caa1: 'dashboard pilot...'", "2025-11-09 14:35:11 - src.services.search - INFO - Searching for: 'dashboard pilot...' (top_k=3)", "2025-11-09 14:35:22 - src.services.search - INFO - Search completed in 10616ms, returned 3 results", "2025-11-09 14:35:22 - src.services.search - INFO - Project search returned 3 results", "2025-11-09 14:35:22 - src.mcp.protocol_handler - INFO - Project search returned 3 results", "{\"jsonrpc\": \"2.0\", \"id\": 6, \"result\": {\"results\": [{\"id\": \"mem-8f164c731ee5-metadata\", \"content\": \"The team pre-aggregated OTEL spans into 15-minute buckets, cached the JSON in the BM25 sidecar to tune InsightOps dashboards for the Q4 pilot.\", \"metadata\": {\"memory_type\": \"short_term\", \"schema_type\": \"Process\", \"strength\": 1.0, \"importance\": 0.5, \"is_memory_entry\": true, \"memory_id\": \"mem-8f164c731ee5\", \"created_at\": \"2025-10-09T18:10:00\", \"project_id\": \"5cd8446d-fd07-41f2-a5e7-05003d14caa1\", \"source\": \"scenario_mid\", \"updated_at\": \"2025-11-08T18:49:08.344420+00:00\", \"type\": \"tuning\", \"topic\": \"dashboard\"}, \"distance\": 0.4529421329498291, \"similarity\": 0.5470578670501709, \"vector_similarity\": 0.5470578670501709, \"score\": 0.5394115734100422, \"combined_score\": 0.5394115734100422, \"components\": {\"memory_strength\": 1.0, \"recency\": 3.9960688375972303e-14, \"refs_reliability\": 0.0, \"bm25\": 0.0, \"vector\": 0.5470578670501709, \"metadata\": 0.13}, \"cross_score\": 0.1}, {\"id\": \"mem-6202db357754-metadata\", \"content\": \"The user needed to seed InsightOps with blended telemetry. The assistant suggested using the Hydra blending notebook, capping per-stream rows at 10k, and pushing vectors through ingestion.\", \"metadata\": {\"project_id\": \"5cd8446d-fd07-41f2-a5e7-05003d14caa1\", \"source\": \"scenario_short\", \"type\": \"playbook\", \"created_at\": \"2025-11-08T23:20:00\", \"memory_type\": \"working\", \"memory_id\": \"mem-6202db357754\", \"importance\": 0.5, \"schema_type\": \"Snippet\", \"topic\": \"demo\", \"strength\": 1.0, \"is_memory_entry\": true}, \"distance\": 0.537360668182373, \"similarity\": 0.46263933181762695, \"vector_similarity\": 0.46263933181762695, \"score\": 0.4322386497210381, \"combined_score\": 0.4322386497210381, \"components\": {\"memory_strength\": 1.0, \"recency\": 0.14855391678756338, \"refs_reliability\": 0.0, \"bm25\": 0.0, \"vector\": 0.46263933181762695, \"metadata\": 0.009999999999999997}, \"cross_score\": 0.0}, {\"id\": \"mem-667965861c37-metadata\", \"content\": \"The user received advice to batch the 12 flagged edits into a single consolidation session, label them as drafts, and rerun the process hourly until they stabilize, thus avoiding MCP flooding.\", \"metadata\": {\"importance\": 0.5, \"source\": \"scenario_short\", \"schema_type\": \"Process\", \"project_id\": \"5cd8446d-fd07-41f2-a5e7-05003d14caa1\", \"memory_type\": \"working\", \"topic\": \"obsidian\", \"type\": \"ops\", \"is_memory_entry\": true, \"created_at\": \"2025-11-08T21:55:00\", \"strength\": 1.0, \"memory_id\": \"mem-667965861c37\"}, \"distance\": 0.6534870862960815, \"similarity\": 0.34651291370391846, \"vector_similarity\": 0.34651291370391846, \"score\": 0.40419160224866846, \"combined_score\": 0.40419160224866846, \"components\": {\"memory_strength\": 1.0, \"recency\": 0.12444509753942364, \"refs_reliability\": 0.0, \"bm25\": 0.0, \"vector\": 0.34651291370391846, \"metadata\": 0.009999999999999997}, \"cross_score\": 0.0}]}}"], "relevance": {"topic": ["dashboard", "demo"], "ideal_hits": 2}}
{"request": {"jsonrpc": "2.0", "id": 7, "method": "search_in_project", "params": {"query": "governance guardrails", "top_k": 3, "project_id": "8e559324-aa61-4e79-8e79-9d6545ba5cd4"}}, "response": {"jsonrpc": "2.0", "id": 7, "result": {"results": [{"id": "mem-aea67833bc0d-metadata", "content": "The PhaseGate template was shipped and includes risk, rollout, rollback, MCP touchpoints, and obsidian links. It should be stored in the templates/phase-gate.md directory to address reviewers' requests for more guardrails.", "metadata": {"schema_type": "Process", "updated_at": "2025-11-08T18:49:08.333798+00:00", "project_id": "8e559324-aa61-4e79-8e79-9d6545ba5cd4", "source": "scenario_mid", "type": "template", "memory_id": "mem-aea67833bc0d", "is_memory_entry": true, "memory_type": "short_term", "created_at": "2025-10-08T07:20:00", "strength": 1.0, "importance": 0.5, "topic": "governance"}, "distance": 0.3858640193939209, "similarity": 0.6141359806060791, "vector_similarity": 0.6141359806060791, "score": 0.5528271961212177, "combined_score": 0.5528271961212177, "components": {"memory_strength": 1.0, "recency": 9.359076260817252e-15, "refs_reliability": 0.0, "bm25": 0.0, "vector": 0.6141359806060791, "metadata": 0.13}, "cross_score": 0.65}, {"id": "mem-39f4da372d08-metadata", "content": "The user asked about updating checklists due to an LLM prompt policy change, and the assistant responded by suggesting to add a safety delta to the CLI preamble, document the changes in PromptPolicy.md, and update the MCP capability doc.", "metadata": {"topic": "policy", "is_memory_entry": true, "memory_id": "mem-39f4da372d08", "project_id": "8e559324-aa61-4e79-8e79-9d6545ba5cd4", "schema_type": "Process", "memory_type": "working", "created_at": "2025-11-08T21:45:00", "strength": 1.0, "source": "scenario_short", "type": "update", "importance": 0.5}, "distance": 0.5562995672225952, "similarity": 0.4437004327774048, "vector_similarity": 0.4437004327774048, "score": 0.4231042003059543, "combined_score": 0.4231042003059543, "components": {"memory_strength": 1.0, "recency": 0.12182056875236699, "refs_reliability": 0.0, "bm25": 0.0, "vector": 0.4437004327774048, "metadata": 0.009999999999999997}, "cross_score": 0.0}]}}, "logs": ["2025-11-09 14:35:22 - src.services.search - INFO - Searching in project 8e559324-aa61-4e79-8e79-9d6545ba5cd4: 'governance guardrails...'", "2025-11-09 14:35:25 - src.services.search - INFO - Searching for: 'governance guardrails...' (top_k=3)", "2025-11-09 14:35:34 - src.services.search - INFO - Search completed in 8462ms, returned 2 results", "2025-11-09 14:35:34 - src.services.search - INFO - Project search returned 2 results", "2025-11-09 14:35:34 - src.mcp.protocol_handler - INFO - Project search returned 2 results", "{\"jsonrpc\": \"2.0\", \"id\": 7, \"result\": {\"results\": [{\"id\": \"mem-aea67833bc0d-metadata\", \"content\": \"The PhaseGate template was shipped and includes risk, rollout, rollback, MCP touchpoints, and obsidian links. It should be stored in the templates/phase-gate.md directory to address reviewers' requests for more guardrails.\", \"metadata\": {\"schema_type\": \"Process\", \"updated_at\": \"2025-11-08T18:49:08.333798+00:00\", \"project_id\": \"8e559324-aa61-4e79-8e79-9d6545ba5cd4\", \"source\": \"scenario_mid\", \"type\": \"template\", \"memory_id\": \"mem-aea67833bc0d\", \"is_memory_entry\": true, \"memory_type\": \"short_term\", \"created_at\": \"2025-10-08T07:20:00\", \"strength\": 1.0, \"importance\": 0.5, \"topic\": \"governance\"}, \"distance\": 0.3858640193939209, \"similarity\": 0.6141359806060791, \"vector_similarity\": 0.6141359806060791, \"score\": 0.5528271961212177, \"combined_score\": 0.5528271961212177, \"components\": {\"memory_strength\": 1.0, \"recency\": 9.359076260817252e-15, \"refs_reliability\": 0.0, \"bm25\": 0.0, \"vector\": 0.6141359806060791, \"metadata\": 0.13}, \"cross_score\": 0.65}, {\"id\": \"mem-39f4da372d08-metadata\", \"content\": \"The user asked about updating checklists due to an LLM prompt policy change, and the assistant responded by suggesting to add a safety delta to the CLI preamble, document the changes in PromptPolicy.md, and update the MCP capability doc.\", \"metadata\": {\"topic\": \"policy\", \"is_memory_entry\": true, \"memory_id\": \"mem-39f4da372d08\", \"project_id\": \"8e559324-aa61-4e79-8e79-9d6545ba5cd4\", \"schema_type\": \"Process\", \"memory_type\": \"working\", \"created_at\": \"2025-11-08T21:45:00\", \"strength\": 1.0, \"source\": \"scenario_short\", \"type\": \"update\", \"importance\": 0.5}, \"distance\": 0.5562995672225952, \"similarity\": 0.4437004327774048, \"vector_similarity\": 0.4437004327774048, \"score\": 0.4231042003059543, \"combined_score\": 0.4231042003059543, \"components\": {\"memory_strength\": 1.0, \"recency\": 0.12182056875236699, \"refs_reliability\": 0.0, \"bm25\": 0.0, \"vector\": 0.4437004327774048, \"metadata\": 0.009999999999999997}, \"cross_score\": 0.0}]}}"], "relevance": {"topic": ["governance", "policy"], "ideal_hits": 2}}
{"request": {"jsonrpc": "2.0", "id": 8, "method": "search_memory", "params": {"query": "retention policy long term memories", "top_k": 3}}, "response": {"jsonrpc": "2.0", "id": 8, "result": {"results": [{"id": "mem-bd8b497a19e9-metadata", "content": "The user noticed a decrease in search relevancy after ingesting compliance notes and asked about previous tuning of rerank weights. The assistant responded that memory_strength was raised to 0.45, recency was set to 0.25, and bm25_score was reduced to 0.15, with these changes documented in search.py to maintain consistency.", "metadata": {"memory_type": "short_term", "created_at": "2025-11-08T22:05:00", "source": "scenario_app_dev", "updated_at": "2025-11-08T18:24:04.697998+00:00", "schema_type": "Incident", "memory_id": "mem-bd8b497a19e9", "strength": 1.0, "is_memory_entry": true, "project_id": "7bc8bb49-bee7-435c-a685-610cb34602bb", "importance": 0.5, "type": "tuning", "topic": "rerank"}, "distance": 0.5165950059890747, "similarity": 0.4834049940109253, "vector_similarity": 0.4834049940109253, "score": 0.47719879892580985, "combined_score": 0.47719879892580985, "components": {"memory_strength": 1.0, "recency": 0.5025890006181242, "refs_reliability": 0.0, "bm25": 0.0, "vector": 0.4834049940109253, "metadata": -0.02}, "cross_score": 0.0}, {"id": "mem-c888f748e484-metadata", "content": "The pager alerted on INC-310 due to chunker timeouts. Mitigations include keeping the tokenizer fallback in streaming mode, limiting chunker concurrency to four workers, and exporting failing transcripts for comparison with INC-204; detailed instructions are in the INC-310 notebook.", "metadata": {"source": "scenario_bug", "topic": "chunker", "severity": "high", "importance": 0.5, "schema_type": "Incident", "project_id": "f177acc2-8be0-4752-a3d7-808111fa84e6", "memory_type": "short_term", "strength": 1.0, "is_memory_entry": true, "updated_at": "2025-11-08T18:24:04.709728+00:00", "memory_id": "mem-c888f748e484", "created_at": "2025-11-08T22:45:00"}, "distance": 0.5783886313438416, "similarity": 0.42161136865615845, "vector_similarity": 0.42161136865615845, "score": 0.46767137656658736, "combined_score": 0.46767137656658736, "components": {"memory_strength": 1.0, "recency": 0.5167455141767784, "refs_reliability": 0.0, "bm25": 0.0, "vector": 0.42161136865615845, "metadata": -0.02}, "cross_score": 0.0}], "count": 2}}, "logs": ["2025-11-09 14:35:37 - src.services.search - INFO - Searching for: 'retention policy long term memories...' (top_k=3)", "2025-11-09 14:35:46 - src.services.search - INFO - Search completed in 8500ms, returned 2 results", "2025-11-09 14:35:46 - src.mcp.protocol_handler - INFO - Searched memories: query='retention policy long term memories', results=2", "{\"jsonrpc\": \"2.0\", \"id\": 8, \"result\": {\"results\": [{\"id\": \"mem-bd8b497a19e9-metadata\", \"content\": \"The user noticed a decrease in search relevancy after ingesting compliance notes and asked about previous tuning of rerank weights. The assistant responded that memory_strength was raised to 0.45, recency was set to 0.25, and bm25_score was reduced to 0.15, with these changes documented in search.py to maintain consistency.\", \"metadata\": {\"memory_type\": \"short_term\", \"created_at\": \"2025-11-08T22:05:00\", \"source\": \"scenario_app_dev\", \"updated_at\": \"2025-11-08T18:24:04.697998+00:00\", \"schema_type\": \"Incident\", \"memory_id\": \"mem-bd8b497a19e9\", \"strength\": 1.0, \"is_memory_entry\": true, \"project_id\": \"7bc8bb49-bee7-435c-a685-610cb34602bb\", \"importance\": 0.5, \"type\": \"tuning\", \"topic\": \"rerank\"}, \"distance\": 0.5165950059890747, \"similarity\": 0.4834049940109253, \"vector_similarity\": 0.4834049940109253, \"score\": 0.47719879892580985, \"combined_score\": 0.47719879892580985, \"components\": {\"memory_strength\": 1.0, \"recency\": 0.5025890006181242, \"refs_reliability\": 0.0, \"bm25\": 0.0, \"vector\": 0.4834049940109253, \"metadata\": -0.02}, \"cross_score\": 0.0}, {\"id\": \"mem-c888f748e484-metadata\", \"content\": \"The pager alerted on INC-310 due to chunker timeouts. Mitigations include keeping the tokenizer fallback in streaming mode, limiting chunker concurrency to four workers, and exporting failing transcripts for comparison with INC-204; detailed instructions are in the INC-310 notebook.\", \"metadata\": {\"source\": \"scenario_bug\", \"topic\": \"chunker\", \"severity\": \"high\", \"importance\": 0.5, \"schema_type\": \"Incident\", \"project_id\": \"f177acc2-8be0-4752-a3d7-808111fa84e6\", \"memory_type\": \"short_term\", \"strength\": 1.0, \"is_memory_entry\": true, \"updated_at\": \"2025-11-08T18:24:04.709728+00:00\", \"memory_id\": \"mem-c888f748e484\", \"created_at\": \"2025-11-08T22:45:00\"}, \"distance\": 0.5783886313438416, \"similarity\": 0.42161136865615845, \"vector_similarity\": 0.42161136865615845, \"score\": 0.46767137656658736, \"combined_score\": 0.46767137656658736, \"components\": {\"memory_strength\": 1.0, \"recency\": 0.5167455141767784, \"refs_reliability\": 0.0, \"bm25\": 0.0, \"vector\": 0.42161136865615845, \"metadata\": -0.02}, \"cross_score\": 0.0}], \"count\": 2}}"], "relevance": {"topic": ["policy"], "ideal_hits": 2}}
{"metrics": {"queries": [{"id": 1, "method": "search_memory", "k": 3, "precision_at_k": 0.3333333333333333, "ndcg_at_k": 0.6131471927654584, "relevant_hits": 1}, {"id": 2, "method": "search_memory", "k": 3, "precision_at_k": 0.6666666666666666, "ndcg_at_k": 1.0, "relevant_hits": 2}, {"id": 3, "method": "search_in_project", "k": 3, "precision_at_k": 0.0, "ndcg_at_k": 0.0, "relevant_hits": 0}, {"id": 4, "method": "search_memory", "k": 3, "precision_at_k": 0.3333333333333333, "ndcg_at_k": 0.6131471927654584, "relevant_hits": 1}, {"id": 5, "method": "search_memory", "k": 3, "precision_at_k": 0.0, "ndcg_at_k": 0.0, "relevant_hits": 0}, {"id": 6, "method": "search_in_project", "k": 3, "precision_at_k": 0.6666666666666666, "ndcg_at_k": 1.0, "relevant_hits": 2}, {"id": 7, "method": "search_in_project", "k": 3, "precision_at_k": 1.0, "ndcg_at_k": 1.0, "relevant_hits": 2}, {"id": 8, "method": "search_memory", "k": 3, "precision_at_k": 0.0, "ndcg_at_k": 0.0, "relevant_hits": 0}], "macro_precision": 0.375, "macro_ndcg": 0.5282867981913646}}
